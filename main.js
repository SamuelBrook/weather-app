(()=>{"use strict";const e=e=>Math.round(2*e)/2;class t{constructor(e,t,n,c,r,a){this.name=e,this.temp=t,this.maxTemp=n,this.minTemp=c,this.weather=r,this.weatherDescription=a}}const n=async function(n){const c=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${n}&appid=4edfb59f5bfcf1af7802721ab2c0c219`,{mode:"cors"}),r=await c.json();let a=(t=>({temp:e(t.main.temp-273.15)+"°C",maxTemp:e(t.main.temp_max-273.15)+"°C",minTemp:e(t.main.temp_min-273.15)+"°C"}))(r),m=(e=>({mainWeather:e.weather[0].main,weatherDescription:e.weather[0].description}))(r),i=r.name;return new t(i,a.temp,a.maxTemp,a.minTemp,m.mainWeather,m.weatherDescription)},c=document.createElement("img");c.src="../src/images/clouds.svg";const r=document.createElement("img");r.src="../src/images/clouds-few.svg";const a=document.createElement("img");a.src="../src/images/sun.svg";const m=document.createElement("img");m.src="../src/images/rain.svg";const i=document.createElement("img");i.src="../src/images/thunder.svg";const o=document.createElement("img");o.src="../src/images/snow.svg";const s=document.createElement("img");s.src="../src/images/mist.svg";const d=document.querySelector("form"),p=document.querySelector("input");d.addEventListener("submit",(e=>{e.preventDefault();let t=p.value;n(t).then((e=>{console.log(e),(e=>{document.querySelector("#location").textContent=e.name,document.querySelector("#description").textContent=e.weatherDescription,(e=>{const t=document.querySelector("#picture");"Clear"===e.weather?t.appendChild(a):"few clouds"===e.weatherDescription?t.appendChild(r):"scattered clouds"===e.weatherDescription||"broken clouds"===e.weatherDescription||"overcast clouds"===e.weatherDescription?t.appendChild(c):"Rain"===e.weather||"Drizzle"===e.weather?t.appendChild(m):"Thunderstorm"===e.weather?t.appendChild(i):"Snow"===e.weather?t.appendChild(o):t.appendChild(s)})(e);const t=document.querySelector("#temp"),n=document.querySelector("#min"),d=document.querySelector("#max"),p=document.createElement("div"),l=document.createElement("div");t.appendChild(l),t.appendChild(p),l.textContent="Current",p.textContent=e.temp;const u=document.createElement("div"),h=document.createElement("div");n.appendChild(h),n.appendChild(u),u.textContent=e.minTemp,h.textContent="Min";const C=document.createElement("div"),w=document.createElement("div");d.appendChild(w),d.appendChild(C),C.textContent=e.maxTemp,w.textContent="Max"})(e)}))}))})();